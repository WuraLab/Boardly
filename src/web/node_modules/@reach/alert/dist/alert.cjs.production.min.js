"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("react-dom"),t=require("@reach/visually-hidden"),n=require("@reach/utils");require("prop-types");var u,i={polite:-1,assertive:-1},c={polite:{},assertive:{}},o={polite:null,assertive:null},a=n.forwardRefWithAs((function(r,t){var u=r.as,i=void 0===u?"div":u,c=r.children,o=r.type,a=void 0===o?"polite":o,s=function(e,r){if(null==e)return{};var t,n,u={},i=Object.keys(e);for(n=0;n<i.length;n++)r.indexOf(t=i[n])>=0||(u[t]=e[t]);return u}(r,["as","children","type"]),f=e.useRef(null),d=n.useForkedRef(t,f),v=e.useMemo((function(){return e.createElement(i,Object.assign({},s,{ref:d,"data-reach-alert":!0}),c)}),[c,s]);return function(r,t,u){var i=n.usePrevious(r),c=e.useRef(null),o=e.useRef(!1);e.useEffect((function(){var e=n.getOwnerDocument(u.current);o.current?i!==r?(c.current&&c.current.unmount(),c.current=l(r,e),c.current.mount(t)):c.current&&c.current.update(t):(o.current=!0,c.current=l(r,e),c.current.mount(t))}),[t,r,i,u]),e.useEffect((function(){return function(){c.current&&c.current.unmount()}}),[])}(a,v,f),v}));function l(e,r){var t=++i[e];return{mount:function n(u){if(o[e])c[e][t]=u,s();else{var i=r.createElement("div");i.setAttribute("data-reach-live-"+e,"true"),o[e]=i,r.body.appendChild(o[e]),n(u)}},update:function(r){c[e][t]=r,s()},unmount:function(){delete c[e][t],s()}}}function s(){null!=u&&window.clearTimeout(u),u=window.setTimeout((function(){Object.keys(c).forEach((function(n){var u=n;o[u]&&r.render(e.createElement(t.VisuallyHidden,{as:"div"},e.createElement("div",{role:"assertive"===u?"alert":"status","aria-live":u},Object.keys(c[u]).map((function(r){return e.cloneElement(c[u][r],{key:r,ref:null})})))),o[u])}))}),500)}exports.Alert=a,exports.default=a;
//# sourceMappingURL=alert.cjs.production.min.js.map
